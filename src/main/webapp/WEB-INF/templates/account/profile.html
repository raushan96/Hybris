<!DOCTYPE html>
<html layout:decorator="index">

<body>
<div layout:fragment="content">
	<h2>My Account</h2>

	<div th:fragment="logout" sec:authorize="isAuthenticated()">
		Logged user: <span sec:authentication="name">Andre</span> |
		<a href="/logout" th:href="@{/logout}">Logout</a>
	</div>
	<a href="/secure" th:href="@{/secure}">Secure</a>

	<h2>Your profile</h2>

	<div th:object="${user}">
		<p>Name: <span th:text="*{firstName}">Name</span>.</p>

		<p>Email: <span th:text="*{email}">Email</span>.</p>

		<p>Date of birth: <span th:text="*{dateOfBirth}">Date of birth</span>.</p>
	</div>

	<h2>Addresses</h2>
	<table>
		<tr>
			<th>Company</th>
			<th>Country</th>
			<th>City</th>
			<th>Postal code</th>
		</tr>
		<tr th:each="address : ${addresses}">
			<td th:text="${address.companyName}">Company</td>
			<td th:text="${address.country}">Country</td>
			<td th:text="${address.city}">City</td>
			<td th:text="${address.postalCode}">Postal code</td>
		</tr>
	</table>
</div>
</body>

</html>